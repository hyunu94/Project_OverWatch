<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="comments">
	<!-- 댓글 등록 -->
	<insert id="insert_comments" parameterType="hashMap" useGeneratedKeys="true" keyProperty="num">
		<![CDATA[
			insert into comments(content, regdate, pos, ref, depth, boardNo, uId, kind)
			values(#{content},now(), 0, #{ref}, 0, #{boardNo}, #{uId}, 0);
		]]>
	</insert>
	<!-- 댓글 maxNum-->
	<select id="select_maxNum" resultType="hashMap">
		<![CDATA[
			select max(num) from comments
		 ]]>
	</select>
</mapper>